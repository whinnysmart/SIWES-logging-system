{% extends "layout.html" %}

{% block content %}
<div class="container">
    <h2>Assign Students to Supervisors</h2>

    <!-- Assignment Form -->
    <form method="POST" class="mb-4">
        <label for="student_id">Select Student:</label>
        <select name="student_id" id="student_id" required>
            {% for student in students %}
                <option value="{{ student.student_id }}">{{ student.student_username }}</option>
            {% endfor %}
        </select>

        <label for="supervisor_id">Select Supervisor:</label>
        <select name="supervisor_id" id="supervisor_id" required>
            {% for supervisor in supervisors %}
                <option value="{{ supervisor.id }}">{{ supervisor.username }}</option>
            {% endfor %}
        </select>

        <button type="submit">Assign</button>
    </form>

    <hr>

    <!-- Current Assignments -->
    <h3>Current Assignments</h3>
    <table border="1" cellpadding="5">
        <thead>
            <tr>
                <th>Student</th>
                <th>Supervisor</th>
            </tr>
        </thead>
        <tbody>
            {% for student in students %}
                <tr>
                    <td>{{ student.student_username }}</td>
                    <td>{{ student.supervisor_username if student.supervisor_username else "Not Assigned" }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
